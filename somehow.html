<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // 1、实现链式调用核心：调用完方法将自身的实例返回
        // function Class1(){
        //     console.log('初始化');
        // }
        // Class1.prototype.method = function(param){
        //     console.log(param);
        //     return this;
        // }
        // let c1 = new Class1();
        // c1.method('第一次调用').method('第二次调用').method('第三次调用')

        // var obj = {
        //     a: function(){
        //         console.log('a');
        //         return this;
        //     },
        //     b: function(){
        //         console.log('b');
        //         return this;
        //     }
        // }
        // obj.a().b();

        // Promise简单实现
        // class MyPromise{
        //     constructor(executor){
        //         this.state = 'pending';
        //         this.value = '';
        //         this.reason = '';
        //         let resolve = value => {
        //             if(this.state === 'pending'){
        //                 this.state = 'fulfilled';
        //                 this.value = value;
        //             }
        //         }
        //         let reject = reason => {
        //             if(this.state === 'pending'){
        //                 this.state = 'rejected';
        //                 this.reason = reason;
        //             }
        //         }
        //         try{
        //             executor(resolve, reject);
        //         }catch(err){
        //             reject(err);
        //         }
        //     }
        //     then(onFulfilled, onRejected){
        //         if(this.state === 'fulfilled'){
        //             onFulfilled(this.value);
        //         }
        //         if(this.state === 'rejected'){
        //             onRejected(this.reason);
        //         }
        //     }
        // }

        // let p = new MyPromise(function(resolve, reject){
        //     // resolve('some value');
        //     // reject('some reason');
        //     // let xhr;
        //     // xhr = new XMLHttpRequest();
        //     // xhr.onreadystatechange = function(){
        //     //     if(xhr.readyState == 4){
        //     //         if(xhr.status == 200){
        //     //             resolve(xhr.response)
        //     //         }
        //     //     }
        //     // };
        //     // xhr.open('GET', './data.json', true);
        //     // xhr.send();
        //     setTimeout(function(){
        //         resolve("成功!"); //代码正常执行！
        //     }, 250);
        // })
        // p.then(function(value){
        //     console.log(value);
        // },function(reason){
        //     console.log(reason);
        // })
            
        // 1,7,8,6,2,4,3,5,9,11,10,12
        // console.log(1);
        // setTimeout(() => {
        //     console.log(2);
        //     // process.nextTick(() => {
        //     //     console.log(3);
        //     // });
        //     new Promise((resolve) => {
        //         console.log(4);
        //         resolve();
        //     }).then(() => {
        //         console.log(5);
        //     });
        // });
        // new Promise((resolve) => {
        //     console.log(7);
        //     resolve();
        // }).then(() => {
        //     console.log(8);
        // });
        // // process.nextTick(() => {
        // //     console.log(6);
        // // });
        // setTimeout(() => {
        //     console.log(9);
        //     // process.nextTick(() => {
        //     //     console.log(10);
        //     // });
        //     new Promise((resolve) => {
        //         console.log(11);
        //         resolve();
        //     }).then(() => {
        //         console.log(12);
        //     });
        // });

        // function side(arr) {
        //     arr[0] = arr[2];
        // }
        // function a(a, b, c = 3) {
        //     c = 10;
        //     side(arguments);
        //     console.log(a,b,c);
        //     return a + b + c;
        // }
        // console.log(a(1, 1, 1)); //12

        // var min = Math.min();
        // max = Math.max();
        // console.log(min < max); //false

        // var a = 1;
        // (function a () {
        //     a = 2;
        //     console.log(a);
        // })();

        // var a = [0];
        // if (a) {
        //     console.log(a == true);
        // } else {
        //     console.log(1);
        //     console.log(a);
        // }

        // var fullname = 'a';
        // var obj = {
        // fullname: 'b',
        // prop: {
        //     fullname: 'c',
        //     getFullname: function() {
        //         return this.fullname;
        //     }
        // }
        // };
        
        // console.log(obj.prop.getFullname()); // c
        // var test = obj.prop.getFullname;
        // console.log(test());  // a

        // var company = {
        //     address: 'beijing'
        // }
        // var yideng = Object.create(company);
        // delete yideng.address
        // console.log(yideng.address);

        // var foo = function bar(){ return 12; };
        // console.log(typeof bar()); 
        
        // for (let i = 0; i < 3; i++) {
        //     setTimeout(() => console.log(i), 1);
        // }

        // // 使用let声明的变量是具有块级作用域的，使用var的没有

        // const num = {
        //     a: 10,
        //     add() {
        //         return this.a + 2;
        //     },
        //     reduce: () => this.a -2
        // };
        // console.log(num.add());     //12
        // console.log(num.reduce());  //NaN

        // const person = { name: "yideng" };

        // function sayHi(age) {
        //     return `${this.name} is ${age}`;
        // }
        // console.log(sayHi.call(person, 5)); //yideng is 5
        // console.log(sayHi.bind(person, 5));
        //ƒ sayHi(age) {
        //     return `${this.name} is ${age}`;
        // }
        // call立即执行，bind不会

        // ["1", "2", "3"].map(parseInt);

        // function showCase(value) {
        //     switch(value) {
        //     case 'A':
        //         console.log('Case A');
        //         break;
        //     case 'B':
        //         console.log('Case B');
        //         break;
        //     case undefined:
        //         console.log('undefined');
        //         break;
        //     default:
        //         console.log('Do not know!');
        //     }
        // }
        // showCase(new String('A'));  //Do not know!

        // console.log([2,1,0].reduce(Math.pow));
        // console.log([].reduce(Math.pow));

        // var arr = [0,1];
        // arr[5] = 5;
        // // arr = [0,1,0,0,0,5];
        // newArr = arr.filter(function(x) { return x === undefined;});
        // console.log(newArr.length);

        // async function async1() {
        //     console.log('async1 start');
        //     await async2();
        //     console.log('async1 end');
        // }
        // async function async2() {
        //     console.log('async2');
        // }
        // // 相当于
        // // function async1() {
        // //     return new Promise((resolve,reject)=>{
        // //         console.log('async1 start');
        // //         async2().then((result)=>{
        // //             console.log('async1 end');
        // //         })
        // //         resolve()
        // //     })
        // // }
        // // function async2() {
        // //     return new Promise((resolve)=>{
        // //         console.log('async2');
        // //         resolve()
        // //     })
        // // }
        // console.log('script start');
        // setTimeout(function() {
        //     console.log('setTimeout');
        // }, 0)
        // async1();
        // new Promise(function(resolve) {
        //     console.log('promise1');
        //     resolve();
        // }).then(function() {
        //     console.log('promise2');
        // });
        // console.log('script end');

        // script start
        // promise1
        // script end
        // async1 start
        // async2
        // async1 end
        // promise2
        // setTimeout

        // function async1(){
        //     return new Promise(function(resolve){
        //         console.log('async1 start');
        //         async2().then(function(){
        //             console.log('async1 end');
        //         })
        //         resolve();
        //     })
        // }
        // function async2(){
        //     return new Promise(function(resolve){
        //         console.log('async2');
        //         resolve();
        //     })
        // }
        // console.log('script start');
        // setTimeout(function(){
        //     console.log('setTimeout');
        // },0)
        // async1();

        // const arrLike = {
        //     length:4,
        //     0:0,
        //     1:1,
        //     '-1':2,
        //     3:3,
        //     4:4,
        // }
        // console.log(Array.from(arrLike));
        // console.log(Array.prototype.slice.call(arrLike));
    </script>
</body>

</html>